<!doctype html>

<html lang="en">
<head>
	<title>Swing</title>

	<meta charset = "utf-8">
	<meta name="Swing Social Networking Plugin" content="FB Graph API">
	<meta name="LM" content="SwingMain">
	<!--[if lt IE 9]>
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
</head>

<body>
	<script>
		function statusChangeCallback(response) {

			console.log('statusChangeCallback');
			console.log(response);

			if (response.status === 'connected') {

				testAPI();
			} else if (response.status === 'not_authorized') {

				document.getElementById('status').innerHTML = 'Please log ' + 'into Facebook';
			} else {

				document.getElementById('status').innerHTML = 'Please log ' + 'into Facebook';
			}
		}

		function checkLoginState() {
			FB.getLoginStatus(function(response) {

				statusChangeCallback(response);
			});
		}

		window.fbAsyncInit = function() {
			FB.init({
				appId : '413405972179727',
				cookie : true,
				xfbml : true,
				version : 'v2.2'
			});

			FB.getLoginStatus(function(response) {

				statusChangeCallback(response);
			});
		};

		(function(d, s, id) {

			var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) return;
			js = d.createElement(s); js.id = id;
			js.src = "//connect.facebook.net/en_US/sdk.js";
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));

		function testAPI() {
			console.log('Welcome. Fetching your information...');
			FB.api('/me', function(response) {

				console.log('Successful login for', response.name);
				document.getElementById('status').innerHTML = 'Thank you for loggin in ' + response.name + '!';
			});
		}



	</script>

	<fb:login-button scope="public_profile,email", onlogin="checkLoginState();"></fb:login-button>
	<div id="status"></div>
	<div id="fb-root"></div>
	<div
		class="fb-like"
		data-share="true"
		data-width="450"
		data-show-faces="true">
	</div>



</body>
</html>